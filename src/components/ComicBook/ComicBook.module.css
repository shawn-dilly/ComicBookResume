/* ComicBook Container Styles */
.bookContainer {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Combine multiple clipping strategies for 3D transforms */
  contain: paint;
  overflow: hidden;
}

.flipBook {
  box-shadow:
    0 0 30px rgba(0, 0, 0, 0.4),
    0 0 60px rgba(0, 0, 0, 0.15);
  position: relative;
}

/* Override page-flip's default parent styles */
.flipBook:global(.stf__parent) {
  margin: 0 !important;
  display: block !important;
  position: relative !important;
}

/* The wrapper contains the block - use flexbox to center the block */
.flipBook :global(.stf__wrapper) {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  height: 100% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transform-style: preserve-3d;
}

/* The block contains pages - relative positioning lets flexbox center it */
.flipBook :global(.stf__block) {
  position: relative !important;
  height: auto !important;
  perspective: 2000px !important;
  transform-style: preserve-3d !important;
}

/* Page shadow on flip */
.flipBook :global(.stf__page) {
  background: var(--newsprint);
  box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.08);
}

/* Hard cover pages */
.flipBook :global(.stf__page--hard) {
  background: var(--comic-red);
  box-shadow:
    inset 0 0 30px rgba(0, 0, 0, 0.15),
    0 0 10px rgba(0, 0, 0, 0.2);
}

/* Soft inner pages */
.flipBook :global(.stf__page--soft) {
  background: var(--newsprint);
}

/* Hide left page placeholder when book is closed (first item on left side) */
.flipBook :global(.stf__item.--left:first-of-type) {
  opacity: 0;
}

/* Show it when book is open (during flip or after) */
.flipBook :global(.stf__item.--left.--active),
.flipBook :global(.stf__item.--left[style*="z-index"]) {
  opacity: 1;
}

.flipBook :global(.stf__parent) {
  perspective: 1200px;
  transform-style: preserve-3d;
  backface-visibility: hidden;
}

.flipBook :global(.stf__wrapper) {
  perspective: 1200px;
  transform-style: preserve-3d;
  overflow: visible;
}

.flipBook :global(.stf__block) {
  transform-style: preserve-3d;
}

